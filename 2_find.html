<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="Shift_JIS">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>第II部〜知っていると便利な秀丸の機能　検索</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="base.css">
  <!--[if lt IE 9]>
    <script src="./html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>

<p><a href="hmindex0.html"><img src="hide_by2.png" alt="Hidemaru Q and A" width="88" height="32" /></a></p>
<h1 id="TOP">第II部〜知っていると便利な秀丸の機能<br />
　検索</h1>
<hr />
<h2 id="find">●検索</h2>
<p>編集中のテキストファイルの中から、ある文字列を探したい時には、秀丸エディタの「検索」機能を使えば簡単にできます。</p>
<p>※文字列をあるだけ探したい場合は、<strong>grep 機能</strong>を使った方が効率的です。詳しくは「<a href="2_grep.html">●grep/タグジャンプ</a>」を参照して下さい。</p>
<ul>
<li><a href="#EXPLANATION">[解説]</a></li>
<li><a href="#SUPPLEMENTATION">[補足]</a>
<ul>
<li><a href="#SUPPLEMENTATION-1">「追加の条件」について</a></li>
<li><a href="#SUPPLEMENTATION-2">検索文字列の取り込みについて</a></li>
<li><a href="#SUPPLEMENTATION-3">複数行</a></li>
<li><a href="#SUPPLEMENTATION-4">補助メニューその１</a></li>
<li><a href="#SUPPLEMENTATION-5">補助メニューその２</a></li>
<li><a href="#SUPPLEMENTATION-6">ヒストリーに常駐</a></li>
<li><a href="#SUPPLEMENTATION-7">検索文字数の上限</a></li>
</ul></li>
</ul>
<!-- h3 -->
<div class="marginleft">
<h3 id="EXPLANATION">[解説]</h3>
<p>編集中のファイルにある「<strong>Love</strong>」という文字列を探したいとします。</p>
<ol type="1">
<li><p>秀丸エディタの「<strong>検索</strong>」メニューから(もしくはツールバーやファンクションキーで)「<strong>検索</strong>」を選択して、 <strong><span class="font_blue">「検索」</span></strong>のエディットボックスに「<strong>Love</strong>」と入力します。</p>
<p><img src="2_find_101.png" alt="検索ダイアログ" width="433" height="244" /><br />
</p></li>
<li>次に、適宜オプションを指定します。ここで、各オプションの意味は以下の通りです。
<ul>
<li><p><strong><span class="font_blue">「大文字／小文字の区別</span>」チェックボックス：</strong><br />
検索文字列の大文字と小文字を区別して検索します。この項目がＯＦＦの場合、上の例で「<strong>LOVE</strong>」や「<strong>love</strong>」も検索されます。</p></li>
<li><p><strong>「<span class="font_blue">単語の検索</span>」チェックボックス：</strong><br />
この項目がＯＮになっていると、「<strong>Lover</strong>」や「<strong>ILoveNY</strong>」等の、ある単語の一部になっている場合は検索されません。 ここで言う「<strong>単語</strong>」とは、<strong>半角英字とアンダースコア(“_”)のみで構成された文字(列)</strong>を指します。</p></li>
<li><p><strong>「<span class="font_blue">正規表現</span>」チェックボックス：</strong><br />
検索文字列に「<strong>正規表現</strong>」が使える様になります。<br />
「<strong>正規表現</strong>」については「<a href="4_regular.html">●正規表現について</a>」を参照して下さい。<br />
複数行にマッチする検索に関しては制限が存在します。以下のリンク先を参照してください。</p>
<ul>
<li>秀丸エディタヘルプ<span class="externallink"><a href="http://hidemaruo.mydns.jp:81/helpsite/hidemaru/html/190_CmdSearch_Regular_ReturnCodeLimit.html" target="_blank">\nを使った複数行検索の際の制限について</a></span></li>
<li>「<a href="4_regular.html">●正規表現について</a>-<a href="4_regular.html#RETURNS">【５】 (補足) 秀丸エディタ上での複数行にまたがる検索について</a></li>
</ul></li>
<li><p><strong>「<span class="font_blue">あいまい検索</span>」チェックボックス：</strong><br />
「正規表現」をさらに便利にした「<strong>あいまい</strong>」な検索が可能になります(全半角同一視等)。<br />
「<strong>あいまい検索</strong>」については「<a href="2_fuzzy.html">●あいまい検索について</a>」を参照して下さい。</p></li>
<li><p><strong>「<span class="font_blue">選択した範囲内のみ</span>」チェックボックス：</strong><br />
検索の範囲があらかじめ「<strong>範囲選択</strong>」された部分に限定されます。 範囲選択されていない時はこの項目は選択できない様になっています。<br />
※このオプションの動作の詳細については、<a href="HME0083A.html"><strong>[HME0083A]</strong> ●検索／置換の「選択した範囲内のみ」の動作</a> を参照してください。</p></li>
<li><p><strong>「<span class="font_blue">次の秀丸エディタも続けて検索</span>」チェックボックス</strong><br />
現在編集中の秀丸エディタウィンドウの他にも秀丸エディタが開いていた場合、その秀丸エディタウィンドウの内容に対しても検索を実行します。</p></li>
<li><p><strong>「<span class="font_blue">一周する</span>」チェックボックス</strong><br />
一番下まで検索し終わった場合、先頭に戻って検索します。上検索の場合は逆になります。</p></li>
<li><p><strong>「<span class="font_blue">追加の条件</span>」チェックボックス</strong><br />
追加の条件に従って検索する範囲を制限できます。</p></li>
<li><p><strong>「<span class="font_blue">検索文字列を強調</span>」チェックボックス</strong><br />
検索を実行後、検索に該当する文字列を強調表示します。</p></li>
<li><p><strong>「<span class="font_blue">検索したら閉じる</span>」チェックボックス</strong><br />
検索を実行すると検索ダイアログを閉じます。</p></li>
</ul></li>
<li>最後に検索を行う<strong><span class="font_blue">方向</span></strong>を指定する事で検索が実行されます。
<ul>
<li>「<strong><span class="font_blue">上検索</span></strong>」(現在のカーソル位置より上を検索します。)</li>
<li>「<strong><span class="font_blue">下検索</span></strong>」(現在のカーソル位置より下を検索します。)</li>
<li><p>「<strong><span class="font_blue">すべて検索</span></strong>」(ファイル全体を検索します。)<br />
「すべて検索」では、検索時の動作を選択できます。(ボタンを押すとメニューが表示されます。)</p>
<p><img src="2_find_21.png" alt="すべて検索" width="553" height="265" /><br />
</p>
<ul>
<li><p>「検索文字列を強調」<br />
カーソル位置はそのままにして検索文字列を強調します。</p>
実行結果<br />
<img src="2_find_04.png" alt="検索文字列を強調" width="340" height="146" /><br />
</li>
<li><p>「すべて検索 - 色付け 」<br />
検索文字列を更新せずに、検索条件に一致する箇所を色付けを行います。</p>
<p>実行結果<br />
<img src="2_find_02.png" alt="色付け1回目" width="340" height="160" /><br />
</p>
<p>連続で行うと、別の色で色付けします<br />
<img src="2_find_03.png" alt="色付け2回目" width="340" height="160" /><br />
</p>
<p>矢印のような部分で、色付けした箇所に移動する事が可能です。<br />
<img src="2_find_16.png" alt="色付け2回目" width="142" height="33" /><br />
</p>
<p>個別に色付けした箇所に移動する事も設定で可能です。<br />
<img src="2_find_17.png" alt="色付け2回目" width="219" height="33" /><br />
</p>
<p>検索の色付けに関しては、「<strong>動作環境−検索−検索の色付け</strong>」で各種設定が可能です。</p></li>
<li><p>「すべて検索 - 複数選択」<br />
検索文字列を更新せずに、検索条件に一致する箇所を複数選択状態にします。</p>
<p>実行結果<br />
<img src="2_find_05.png" alt="すべて検索-複数選択" width="340" height="148" /><br />
</p></li>
</ul></li>
</ul></li>
</ol>
<h3 id="SUPPLEMENTATION">[補足]</h3>
<!-- h4 -->
<div class="marginleft">
<h4 id="SUPPLEMENTATION-1">「追加の条件」について</h4>
<p><img src="2_find_01.png" alt="追加の条件ダイアログ" width="368" height="386" /><br />
</p>
<p>「追加の条件」を使うと、検索の対象にする箇所を、限定したり除外する事が可能です。</p>
<ul>
<li><p>「カラー表示の条件」はダイアログの注意書きにあるように、「複数行コメント」の設定で、 各部分を認識している場合のみ有効です。</p></li>
<li>「範囲の指定/カラーマーカー内」は、<strong>「選択した範囲内のみ」</strong>と似ていますが、 通常の範囲選択と違い、複数箇所を対象に出来ます。<br />
以下のいずれかを指定可能です。
<ul>
<li>「一時的なカラーマーカー」の範囲</li>
<li>「すべて検索 - 色付け」された範囲</li>
<li>「複数選択予約」された範囲</li>
</ul></li>
<li><p><strong>「選択した範囲内のみ」</strong> と 「追加の条件」は併用可能です。</p></li>
</ul>
<p>追加の条件で「一時的なカラーマーカー」の範囲を使った例です。</p>
<ul>
<li><p>例その１</p>
<ol type="1">
<li>まず、適当な範囲を箱形選択します。<br />
<img src="2_find_31.png" alt="箱形選択状態" width="581" height="220" /><br />
</li>
<li>選択範囲にカラーマーカをつけます<br />
<img src="2_find_32.png" alt="カラーマーカー追加" width="580" height="220" /><br />
</li>
<li><p>以下の条件で「すべて検索 - 色付け 」を行います。</p>
<ul>
<li>検索文字に「秀丸エディタ」を設定</li>
<li>追加の条件に「一時的なカラーマーカー」を指定</li>
</ul>
<p>マッチ範囲の先頭と末尾が、カラーマーカーの範囲内に入っている箇所のみ、マッチしています。</p>
<p><img src="2_find_33.png" alt="検索" width="617" height="230" /><br />
</p></li>
</ol></li>
<li>例その２
<ol type="1">
<li><p>カラーマーカーはまとまっていなくても問題ありません。 バラバラにマーキングを行います。</p>
<img src="2_find_34.png" alt="バラバラにマーキング" width="591" height="246" /><br />
</li>
<li><p>以下の条件で「すべて検索 - 色付け 」を行います。</p>
<ul>
<li>正規表現を有効にする</li>
<li>検索文字に「b+」を設定</li>
<li>追加の条件に「一時的なカラーマーカー」を指定</li>
</ul>
<p>マッチ範囲の先頭と末尾が、カラーマーカーの範囲内に入っている箇所のみ、マッチしています。</p>
<p>正規表現の“+”を指定した場合、検索エンジンにより結果が変わります。 画像はhmjre.dllの場合ですが、他の検索エンジンを使用した場合、4行目、10行目はマッチしません。</p>
<p><img src="2_find_35.png" alt="検索" width="586" height="260" /><br />
</p></li>
</ol></li>
</ul>
<h4 id="SUPPLEMENTATION-2">検索文字列の取り込みについて</h4>
<p>検索ダイアログを開くとき、<strong>範囲選択していない場合</strong>は、 カーソル位置から後の単語部分を「検索内容」として取り込みます。</p>
<p>ファイルの先頭部分にカーソルがある時に、検索ダイアログを開いた場合<br />
<img src="2_find_11.png" alt="検索ダイアログの取り込み文字" width="500" height="380" /><br />
</p>
<p>この状態から、検索ダイアログを呼び出すキー(デフォルトは [Ctrl + F])を押すと、 その隣の単語部分まで取り込み範囲が拡大されます。 複数回キーを押すとさらに拡大され取り込まれます。ただし改行までが限度です。<br />
取り込み範囲が拡大されるのは、<strong><span class="font_red">範囲選択しないで検索ダイアログを開いた場合のみです。</span></strong> <strong>範囲選択していた場合</strong>、その箇所が取り込まれますが、キーを押しても範囲は<strong>拡大しません。</strong></p>
<ul>
<li><p>(2回目)<br />
<img src="2_find_12.png" alt="検索ダイアログの取り込み2回目" width="500" height="190" /><br />
</p></li>
<li><p>(3回目)<br />
<img src="2_find_13.png" alt="検索ダイアログの取り込み3回目" width="500" height="190" /><br />
</p></li>
<li><p>(4回目)<br />
<img src="2_find_14.png" alt="検索ダイアログの取り込み4回目" width="500" height="190" /><br />
</p></li>
<li><p>(5回目)<br />
<img src="2_find_15.png" alt="検索ダイアログの取り込み5回目" width="500" height="190" /><br />
</p></li>
</ul>
<h4 id="SUPPLEMENTATION-3">複数行</h4>
<p>検索ダイアログの「検索」入力部分は通常1行のみですが、複数行を入力可能にする事もできます。 「検索」入力部の横にある<span class="rotate90">▲</span>マークを押すと、メニューが表示されます。</p>
<p><img src="2_find_18.png" alt="検索ダイアログのメニュー" width="650" height="169" /><br />
</p>
<p>メニューの「<span class="font_red_bold">複数行</span>」を選択すると、ダイアログの「検索」部分が広がります。 複数行にわたる範囲選択をしている場合は、「<span class="font_red_bold">範囲選択の取り込み</span>」で取り込む事も出来ます。</p>
<p><img src="2_find_102.png" alt="複数行の検索ダイアログ" width="433" height="314" /><br />
</p>
<h4 id="SUPPLEMENTATION-4">補助メニューその１</h4>
<p>「検索」入力部の横にある<span class="rotate90">▲</span>マークを押すと、表示されるメニューです。 正規表現などの説明になっているので、困ったときは押してみましょう。</p>
<p><img src="2_find_menu01.png" alt="検索ダイアログのメニューその１" width="357" height="767" /><br />
</p>
<h4 id="SUPPLEMENTATION-5">補助メニューその２</h4>
<p>「検索」ダイアログのタイトルバー部分にある「▼」マークを押すと、メニューが表示されます。 キーからも出来ますが、「<strong>検索文字列の追加取得</strong>」等もマウスから可能です。 「<strong>検索の動作環境</strong>」を開いたり、「<strong>置換ダイアログ</strong>」に切り替える事も可能です。</p>
<p><img src="2_find_103.png" alt="検索ダイアログのメニューその２" width="448" height="434" /><br />
</p>
<h4 id="SUPPLEMENTATION-6">ヒストリーに常駐</h4>
<p>検索すると、検索内容が履歴(ヒストリー)に保存されていきますが、上限があるため、検索を繰り返すと履歴の古いものから順に削除されていきます。</p>
<p>検索内容に「<strong>ヒストリーに常駐</strong>」を設定すると、検索が行われても、履歴から削除される事がなくなります。 「<strong>ヒストリーに常駐</strong>」は「<span class="rotate90"><strong>&gt;</strong></span>」を押し履歴を表示させ、常駐させたい内容のところで右クリックメニューを使って設定します。<br />
<img src="2_find_19.png" alt="ヒストリーに常駐" width="433" height="152" /><br />
</p>
<p>常駐に設定すると、内容の横に「<span class="history_set">★</span>」が表示され、「ヒストリーに常駐」にチェックが入ります。<br />
<img src="2_find_20.png" alt="ヒストリーに常駐その２" width="290" height="159" /><br />
</p>
<p>「ヒストリーに常駐」は検索だけではなく、置換やgrepでも設定可能です。</p>
<h4 id="SUPPLEMENTATION-7">検索文字数の上限</h4>
<p><strong><span class="font_blue">複数行の「検索」</span></strong>エディットボックスに入力し、 検索に指定できる文字列には上限があり、約4000文字が上限となります。</p>
<p>上限を超えると、<span class="attention_red">警告が表示</span>されます。</p>
<p><img src="2_find_104.png" alt="検索ダイアログの警告" width="433" height="133" /><br />
</p>
</div>
<!-- h4 -->
</div>
<h2 id="section"><!-- h3 --></h2>
<p><a href="hmindex0.html">目次に戻る</a></p>
</body>
</html>
